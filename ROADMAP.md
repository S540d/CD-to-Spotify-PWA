# Development Roadmap: CD Collection to Playlist

**Start**: Oktober 2025
**Projektstatus**: Core Features komplett ‚úÖ, Player Implementation next üü°

---

## Aktueller Status (Stand: 2025-10-28)

```
Phase 1: Core Features         ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚úÖ KOMPLETT
  - Scan2Play                  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚úÖ
  - Batch Import               ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚úÖ
  - Local Storage              ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚úÖ
  - CSV/m3u Export             ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚úÖ

Phase 2: Player                ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  üî¥ NEXT
Phase 3: Bugfixing Core        ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  üî¥ Geplant
Phase 4: UX Improvements       ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  üî¥ Geplant
Phase 5: Bugfixing UX          ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  üî¥ Geplant
Phase 6: Production Ready      ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  üî¥ Geplant
Phase 7: Advanced Features     ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  üî¥ Future
```

### ‚úÖ Was bereits funktioniert:

**CORE FEATURES (KOMPLETT)**
- ‚úÖ Barcode Scanner (Quagga2)
- ‚úÖ MusicBrainz Integration (Album Lookup + Cover Art)
- ‚úÖ Spotify OAuth & API Integration
- ‚úÖ PlayMode: Scan ‚Üí Sofort abspielen
- ‚úÖ ImportMode: Batch Scanning
- ‚úÖ ManageMode: Sammlung anzeigen/l√∂schen
- ‚úÖ IndexedDB: Lokale Speicherung
- ‚úÖ CSV Export (mit UTF-8 BOM, Excel-kompatibel)
- ‚úÖ m3u Export (Extended M3U, Spotify URIs)
- ‚úÖ Playlist Creation (√∂ffnet in Spotify)
- ‚úÖ PWA installierbar
- ‚úÖ Deployed auf GitHub Pages

**NOCH AUSSTEHEND**
- ‚ùå Eingebetteter Player in der App
- ‚ùå Search & Filter
- ‚ùå Edit/Bulk Operations
- ‚ùå Statistics & Insights
- ‚ùå UX Polish (Loading States, Error Handling)
- ‚ùå Accessibility Improvements

---

## üéØ NEUE PHASEN-STRUKTUR

Fokus auf **Grundfunktionen ‚Üí Stabilit√§t ‚Üí Polish ‚Üí Erweiterte Features**

### Phase 2: Grundlegende Player Implementierung (3-4 Tage)
**Priorit√§t: HOCH** ‚≠ê‚≠ê‚≠ê
**Ziel**: User kann in der App Musik abspielen, nicht nur extern in Spotify

### Phase 3: Bugfixing Grundfunktionen (2-3 Tage)
**Priorit√§t: HOCH** ‚≠ê‚≠ê‚≠ê
**Ziel**: Alle Core Features sind stabil und zuverl√§ssig

### Phase 4: Grundlegende UX Verbesserungen (3-4 Tage)
**Priorit√§t: MITTEL** ‚≠ê‚≠ê
**Ziel**: App ist benutzerfreundlich und professionell

### Phase 5: Bugfixing UX und Funktionalit√§t (2-3 Tage)
**Priorit√§t: MITTEL** ‚≠ê‚≠ê
**Ziel**: UX ist poliert und fehlerfrei

### Phase 6: Production Ready (2-3 Tage)
**Priorit√§t: HOCH** ‚≠ê‚≠ê‚≠ê
**Ziel**: App ist launch-ready

### Phase 7: Erweiterte Funktionen (8-12 Tage)
**Priorit√§t: NIEDRIG** ‚≠ê
**Ziel**: Nice-to-have Features (Search, Filter, Stats, etc.)

**Total**: ~20-29 Tage (~4-6 Wochen)

---

## Phase 1: Scan2Play (Quick Win)

**Ziel**: Grundinfrastruktur + sofortiger Mehrwert
**Dauer**: 4 Wochen
**Status**: üî¥ Ausstehend

### User Story
*"Ich habe eine CD in der Hand und keinen Player. Ich scanne den Barcode, und die App spielt das Album sofort auf Spotify ab."*

### Features

#### 1.1 Barcode-Scanner (Woche 1)
- [ ] Quagga2 Integration
- [ ] Kamera-Zugriff (Browser Permissions)
- [ ] EAN-13 & UPC-A Erkennung
- [ ] Visuelles Feedback (Scan-Erfolg/Fehler)
- [ ] Fehlerbehandlung (schlechtes Licht, ung√ºltiger Code)

**Acceptance Criteria**:
- ‚úÖ Barcode-Erkennung in < 3 Sekunden
- ‚úÖ Fehler-Meldung bei ung√ºltigem Code
- ‚úÖ "Scan erfolgreich" Animation

#### 1.2 MusicBrainz Integration (Woche 1-2)
- [ ] MusicBrainz API Service
- [ ] Barcode ‚Üí Album Lookup
- [ ] Metadaten abrufen (Artist, Album, Year, Cover)
- [ ] Cover-Art Archive Integration
- [ ] Fehlerbehandlung (Album nicht gefunden)

**Acceptance Criteria**:
- ‚úÖ > 90% Erfolgsrate bei g√§ngigen CDs
- ‚úÖ Cover-Bild wird angezeigt
- ‚úÖ Fallback: "Album nicht gefunden" UI

#### 1.3 Spotify Integration (Woche 2-3)
- [ ] Spotify API Service
- [ ] OAuth 2.0 Login
- [ ] Album-Suche (via MusicBrainz Metadaten)
- [ ] "Play on Spotify" Button
- [ ] Deep Link zu Spotify App/Web Player

**Acceptance Criteria**:
- ‚úÖ Spotify-Login funktioniert
- ‚úÖ Album wird in Spotify ge√∂ffnet
- ‚úÖ Fallback: Web Player wenn App nicht installiert

#### 1.4 Minimal UI (Woche 3-4)
- [ ] Home Page (Mode-Auswahl: Play/Import/Manage)
- [ ] Play Mode Page (Scanner + Album-Anzeige)
- [ ] Album-Detail Card (Cover, Artist, Album, Year)
- [ ] Loading States
- [ ] Error States
- [ ] Toast Notifications

**Acceptance Criteria**:
- ‚úÖ Mobile-optimiert (Touch-friendly)
- ‚úÖ Lighthouse Score > 80
- ‚úÖ WCAG 2.1 AA konform (Color Contrast, Keyboard)

#### 1.5 Testing & Documentation (Woche 4)
- [ ] Unit Tests (Vitest): API Services
- [ ] E2E Tests (Playwright): Scan2Play Flow
- [ ] Accessibility Audit (axe)
- [ ] Performance Audit (Lighthouse)
- [ ] User Documentation: "How to Scan"

**Acceptance Criteria**:
- ‚úÖ Test Coverage > 60%
- ‚úÖ Alle E2E Tests gr√ºn
- ‚úÖ Keine Accessibility Warnings

### Deliverables Phase 1
- ‚úÖ Funktionierender Scan2Play Flow
- ‚úÖ Deploybar auf GitHub Pages
- ‚úÖ Dokumentation (README mit Quick Start)

### Risiken Phase 1
- **Barcode-Erkennung schwierig**: ‚Üí Fallback: Manuelle Suche
- **MusicBrainz API langsam**: ‚Üí Caching, Loading States
- **Spotify OAuth komplex**: ‚Üí Dokumentation, Beispiel-Code

---

## Phase 2: Sammlung archivieren (Kern-Feature)

**Ziel**: Batch-Scanning + lokale Speicherung
**Dauer**: 6 Wochen
**Status**: üî¥ Ausstehend

### User Story
*"Ich scanne meine 150 CDs nacheinander. Die App speichert alle Alben mit Covers. Wenn ich fertig bin, kann ich die CDs in den Keller bringen und habe eine digitale √úbersicht."*

### Features

#### 2.1 IndexedDB Integration (Woche 5)
- [ ] idb Setup (Dexie.js oder idb)
- [ ] Schema Design: Albums, Artists, Tracks
- [ ] CRUD Operations (Create, Read, Update, Delete)
- [ ] Migrations Strategy

**Schema**:
```typescript
interface Album {
  id: string; // UUID
  barcode: string;
  artist: string;
  album: string;
  year?: number;
  genre?: string;
  coverUrl?: string;
  spotifyId?: string;
  tracks?: Track[];
  scannedAt: Date;
}
```

**Acceptance Criteria**:
- ‚úÖ 1000+ Alben ohne Performance-Probleme
- ‚úÖ Offline verf√ºgbar (PWA)

#### 2.2 Import Mode (Woche 5-6)
- [ ] Import Mode Page
- [ ] Batch-Scan Flow (CD nach CD)
- [ ] Fortschrittsanzeige ("23/150 CDs")
- [ ] Duplikats-Erkennung (Barcode bereits gescannt)
- [ ] "Scan erfolgreich" Feedback
- [ ] Pause/Resume Funktion

**Acceptance Criteria**:
- ‚úÖ 100 CDs in < 10 Minuten scannen
- ‚úÖ Duplikate werden erkannt
- ‚úÖ Fortschritt wird gespeichert (Reload-sicher)

#### 2.3 Manage Mode (Woche 6-7)
- [ ] Manage Mode Page
- [ ] Album-Kacheln Grid (Cover + Titel)
- [ ] Suche/Filter (Artist, Album, Jahr, Genre)
- [ ] Sortierung (Alphabet, Datum, Jahr)
- [ ] Album-Detail View (alle Metadaten)
- [ ] Delete Album Funktion

**Acceptance Criteria**:
- ‚úÖ Responsive Grid (Mobile: 2 Spalten, Desktop: 4-6 Spalten)
- ‚úÖ Suche funktioniert in < 1 Sekunde (1000 Alben)
- ‚úÖ Lazy Loading f√ºr gro√üe Sammlungen

#### 2.4 PWA Setup (Woche 7-8)
- [ ] Service Worker (Vite PWA Plugin)
- [ ] Manifest.json (Name, Icons, Theme)
- [ ] Offline-Fallback Page
- [ ] Install Prompt (iOS/Android)
- [ ] Update Mechanism

**Icons**:
- [ ] 192x192px Icon
- [ ] 512x512px Icon
- [ ] Maskable Icon (PWA)

**Acceptance Criteria**:
- ‚úÖ Installierbar auf iOS/Android
- ‚úÖ Offline-Zugriff auf Sammlung
- ‚úÖ Lighthouse PWA Score > 90

#### 2.5 Enhanced UI (Woche 8-9)
- [ ] Dark Mode Support
- [ ] Statistiken Widget (Anzahl Alben, Top Artists, Genres)
- [ ] Empty States ("Keine CDs gescannt")
- [ ] Skeleton Loaders
- [ ] Animations (Framer Motion)

**Acceptance Criteria**:
- ‚úÖ Dark Mode WCAG 2.1 AA konform
- ‚úÖ Smooth Transitions
- ‚úÖ Keine Layout Shifts (CLS < 0.1)

#### 2.6 Testing & Optimization (Woche 9-10)
- [ ] Unit Tests: IndexedDB Services
- [ ] Integration Tests: Import Flow
- [ ] E2E Tests: Batch-Scan (10 CDs)
- [ ] Performance Testing: 1000 Alben
- [ ] Accessibility Audit
- [ ] User Testing (Beta-Nutzer)

**Acceptance Criteria**:
- ‚úÖ Test Coverage > 70%
- ‚úÖ Performance: 1000 Alben ohne Lag
- ‚úÖ Beta-Nutzer Feedback positiv

### Deliverables Phase 2
- ‚úÖ Funktionierender Batch-Import
- ‚úÖ Lokale Sammlung mit Suche/Filter
- ‚úÖ PWA installierbar
- ‚úÖ Dokumentation: "How to Import"

### Risiken Phase 2
- **IndexedDB Quota**: ‚Üí Monitoring, Warnung bei 80% Auslastung
- **Performance bei 1000+ CDs**: ‚Üí Virtualisierung (react-window)
- **Cover-Bilder zu gro√ü**: ‚Üí Komprimierung, Thumbnail-Cache

---

## Phase 3: Export & Verwaltung (Komfort)

**Ziel**: Flexibilit√§t + Playlist-Integration
**Dauer**: 4 Wochen
**Status**: üî¥ Ausstehend

### User Story
*"Ich exportiere meine Sammlung als CSV, bearbeite einige Eintr√§ge (Genre korrigieren), konvertiere zu m3u und importiere in Spotify. Fertig!"*

### Features

#### 3.1 CSV Export (Woche 11)
- [ ] Export Button (Manage Mode)
- [ ] CSV Generierung (mit Header)
- [ ] Download als `cd-collection-{date}.csv`
- [ ] Format: Artist, Album, Year, Genre, Barcode, Spotify ID

**CSV Format**:
```csv
Artist,Album,Year,Genre,Barcode,Spotify_Album_ID,Cover_URL,Scanned_Date
Pink Floyd,Dark Side of the Moon,1973,Progressive Rock,5099902893525,4LH4d3cOWNNsVw41Gqt2kv,https://...,2025-10-27
```

**Acceptance Criteria**:
- ‚úÖ CSV √∂ffnet korrekt in Excel/Numbers
- ‚úÖ UTF-8 Encoding (Umlaute funktionieren)

#### 3.2 m3u Export (Woche 11-12)
- [ ] m3u Generierung (Extended M3U Format)
- [ ] Spotify Track URIs
- [ ] Option: "Eine m3u" vs "Pro Album eine m3u"
- [ ] Download als `.m3u` oder `.m3u8`

**m3u Format**:
```m3u
#EXTM3U
#EXTINF:343,Pink Floyd - Speak to Me/Breathe
spotify:track:xxxx
#EXTINF:170,Pink Floyd - Time
spotify:track:yyyy
```

**Acceptance Criteria**:
- ‚úÖ m3u importierbar in Spotify-Import-Tools
- ‚úÖ Track-Reihenfolge korrekt

#### 3.3 CSV ‚Üí m3u Konvertierung (Woche 12)
- [ ] Import CSV Funktion
- [ ] Parsing & Validierung
- [ ] Konvertierung zu m3u
- [ ] Fehlerbehandlung (fehlende Spotify IDs)

**Acceptance Criteria**:
- ‚úÖ Editierte CSV kann reimportiert werden
- ‚úÖ Fehler-Meldung bei ung√ºltigen Zeilen

#### 3.4 Statistiken & Insights (Woche 12-13)
- [ ] Dashboard (Manage Mode)
- [ ] Metriken:
  - Anzahl Alben
  - Top 10 Artists
  - Genres (Pie Chart)
  - Dekaden (Bar Chart)
  - Scan-Aktivit√§t (Zeitverlauf)
- [ ] Visualisierungen (Recharts oder Chart.js)

**Acceptance Criteria**:
- ‚úÖ Responsive Charts
- ‚úÖ Keine Performance-Probleme bei 1000 Alben

#### 3.5 Erweiterte Verwaltung (Woche 13)
- [ ] Edit Album Funktion (Genre, Jahr korrigieren)
- [ ] Manuelles Hinzuf√ºgen (ohne Barcode)
- [ ] Bulk Actions (Mehrere Alben l√∂schen)
- [ ] Import/Export Sammlung (Backup JSON)

**Acceptance Criteria**:
- ‚úÖ Edits werden persistent gespeichert
- ‚úÖ JSON Backup/Restore funktioniert

#### 3.6 Spotify Playlist-Erstellung (Optional, Woche 14)
- [ ] "Create Spotify Playlist" Button
- [ ] Playlist-Name: "My CD Collection"
- [ ] Track-Upload (100 pro Request, Rate Limiting)
- [ ] Fortschrittsanzeige
- [ ] Fehlerbehandlung (Album nicht auf Spotify)

**Acceptance Criteria**:
- ‚úÖ Playlist wird in Spotify erstellt
- ‚úÖ Rate Limits werden respektiert

#### 3.7 Final Testing & Launch (Woche 14)
- [ ] Komplette E2E Test Suite
- [ ] Performance Audit (Lighthouse)
- [ ] Accessibility Audit (axe, Wave)
- [ ] Security Audit (Secrets, HTTPS)
- [ ] Beta-Testing (5-10 User)
- [ ] Bug Fixes
- [ ] Launch Checklist (PUBLISHING_CHECKLIST.md)

**Acceptance Criteria**:
- ‚úÖ Alle Tests gr√ºn
- ‚úÖ Lighthouse > 90 (alle Kategorien)
- ‚úÖ Keine kritischen Bugs

### Deliverables Phase 3
- ‚úÖ CSV/m3u Export funktioniert
- ‚úÖ Statistiken verf√ºgbar
- ‚úÖ Erweiterte Verwaltung
- ‚úÖ Production-Ready
- ‚úÖ Vollst√§ndige Dokumentation

### Risiken Phase 3
- **Spotify Rate Limits**: ‚Üí Progressiv (100 Tracks/Request)
- **CSV Parsing komplex**: ‚Üí Library (papaparse)
- **Fehlende Spotify IDs**: ‚Üí Fallback: Suche, Warnung

---

## Meilensteine

| Meilenstein | Datum | Status |
|-------------|-------|--------|
| **M1**: Scan2Play funktioniert | Oktober 2025 | ‚úÖ ABGESCHLOSSEN |
| **M2**: Batch-Import + PWA | Oktober 2025 | ‚úÖ ABGESCHLOSSEN |
| **M3**: Export-Funktionen | TBD | üü° In Arbeit |
| **M4**: Search & Management | TBD | üî¥ Geplant |
| **M5**: UX Polish | TBD | üî¥ Geplant |
| **M6**: Production Ready | TBD | üî¥ Geplant |

---

## üìã Detaillierter Implementierungsplan (Aktualisiert 2025-10-28)

**Strategie**: Grundfunktionen ‚Üí Stabilit√§t ‚Üí Polish ‚Üí Erweiterte Features

---

### ‚úÖ PHASE 1: CORE FEATURES (ABGESCHLOSSEN)

**Ziel**: Alle essentiellen Funktionen implementieren
**Dauer**: ~4 Wochen
**Status**: ‚úÖ KOMPLETT

**Was fertig ist:**
- ‚úÖ Barcode Scanner, MusicBrainz, Spotify API
- ‚úÖ Scan2Play, Import Mode, Manage Mode
- ‚úÖ IndexedDB Storage
- ‚úÖ CSV/m3u Export
- ‚úÖ PWA Setup

---

### üéµ PHASE 2: GRUNDLEGENDE PLAYER IMPLEMENTIERUNG

**Ziel**: Music Playback direkt in der App mit Spotify Web Playback SDK
**Dauer**: 3-4 Tage
**Priorit√§t**: HOCH ‚≠ê‚≠ê‚≠ê
**Status**: üî¥ NEXT

**Wichtig**: Der User kann derzeit schon Musik abspielen, aber nur durch externes √ñffnen in Spotify. Wir implementieren einen eingebetteten Player IN der App mit dem Spotify Web Playback SDK.

#### 2.1 Spotify Web Playback SDK Integration (1-2 Tage)

**Features:**
- [ ] Spotify Web Playback SDK laden und initialisieren
- [ ] Device Registration (Player erscheint als "CD Collection Web Player" in Spotify)
- [ ] Token Management (Access Token refresh)
- [ ] Player State Management (Track Info, Position, Duration)
- [ ] Error Handling (Premium Required, Device Not Available)

**Technische Details:**
```typescript
// Web Playback SDK Integration
interface SpotifyPlayer {
  connect(): Promise<boolean>;
  disconnect(): void;
  getCurrentState(): Promise<PlaybackState | null>;
  pause(): Promise<void>;
  resume(): Promise<void>;
  togglePlay(): Promise<void>;
  seek(position_ms: number): Promise<void>;
  previousTrack(): Promise<void>;
  nextTrack(): Promise<void>;
  setVolume(volume: number): Promise<void>;
}

interface PlaybackState {
  track_window: {
    current_track: Track;
    previous_tracks: Track[];
    next_tracks: Track[];
  };
  position: number;
  duration: number;
  paused: boolean;
}
```

**Acceptance Criteria:**
- ‚úÖ SDK l√§dt erfolgreich
- ‚úÖ Player erscheint als Device in Spotify
- ‚úÖ Play/Pause funktioniert
- ‚úÖ Premium-Check mit sinnvoller Fehlermeldung

**Hinweis:** Spotify Web Playback SDK ben√∂tigt Spotify Premium.

---

#### 2.2 Mini-Player UI (1 Tag)

**Features:**
- [ ] Persistent Bottom Bar (fixed position)
- [ ] Album Cover Thumbnail
- [ ] Track Info: Artist - Title
- [ ] Play/Pause Button
- [ ] Skip Previous/Next Buttons
- [ ] Progress Bar (Seek-f√§hig)
- [ ] Volume Control
- [ ] "Open in Spotify" Link

**UI Layout:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [Cover] Artist - Track Title  [‚óÑ] [‚ñ∂/II] [‚ñ∫]  ‚îÇ
‚îÇ         ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óè 1:23 / 3:45    üîä 70% ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Acceptance Criteria:**
- ‚úÖ Mini-Player ist auf allen Seiten sichtbar
- ‚úÖ Responsive (Mobile: vereinfachte Version)
- ‚úÖ Smooth Animations
- ‚úÖ Progress Bar aktualisiert sich in Echtzeit

**Dateien:**
- `app/src/components/player/MiniPlayer.tsx` (NEU)
- `app/src/contexts/PlayerContext.tsx` (NEU)
- `app/src/hooks/useSpotifyPlayer.ts` (NEU)

---

#### 2.3 Player State Management (1 Tag)

**Features:**
- [ ] React Context f√ºr globalen Player State
- [ ] Play Album aus ManageMode
- [ ] Play Album aus ImportMode
- [ ] Play Album aus PlayMode
- [ ] Queue Management (Basic)
- [ ] Playback Events (Track Changed, Playback Stopped)

**Context API:**
```typescript
interface PlayerContextValue {
  player: SpotifyPlayer | null;
  currentTrack: Track | null;
  isPlaying: boolean;
  position: number;
  duration: number;
  volume: number;

  playAlbum(albumUri: string): Promise<void>;
  togglePlay(): Promise<void>;
  nextTrack(): Promise<void>;
  previousTrack(): Promise<void>;
  seek(position: number): Promise<void>;
  setVolume(volume: number): Promise<void>;
}
```

**Acceptance Criteria:**
- ‚úÖ Player State ist global verf√ºgbar
- ‚úÖ Alle Modi k√∂nnen Player verwenden
- ‚úÖ Keine State-Konflikte zwischen Komponenten

---

#### 2.4 Premium Check & Fallback (0.5 Tag)

**Features:**
- [ ] Premium Status pr√ºfen (Spotify API: `/me`)
- [ ] Fallback UI f√ºr Free Users
- [ ] Clear Error Message: "Web Playback requires Spotify Premium"
- [ ] "Open in Spotify App" Button als Alternative

**Acceptance Criteria:**
- ‚úÖ Free Users bekommen klare Meldung
- ‚úÖ Kein App-Crash bei Free Accounts
- ‚úÖ Alternative (extern in Spotify √∂ffnen) funktioniert

---

### üêõ PHASE 3: BUGFIXING GRUNDFUNKTIONEN

**Ziel**: Alle Core Features sind stabil und zuverl√§ssig
**Dauer**: 2-3 Tage
**Priorit√§t**: HOCH ‚≠ê‚≠ê‚≠ê
**Status**: üî¥ Geplant

**Focus Areas:**
- [ ] Barcode Scanner Edge Cases
  - Schlechte Lichtverh√§ltnisse
  - Besch√§digte Barcodes
  - Kamera-Permission Handling

- [ ] MusicBrainz API
  - Timeout Handling
  - Rate Limit Errors
  - Album nicht gefunden ‚Üí bessere UX

- [ ] Spotify API
  - Token Refresh
  - Network Errors
  - Rate Limits

- [ ] IndexedDB
  - Storage Quota Exceeded
  - Migration Errors
  - Corrupted Data Handling

- [ ] CSV/m3u Export
  - Sonderzeichen Testing (Umlaute, Akzente)
  - Gro√üe Sammlungen (1000+ Alben)
  - Browser Kompatibilit√§t

**Testing:**
- [ ] E2E Tests f√ºr kritische Flows
- [ ] Error Scenarios testen
- [ ] Cross-Browser Testing (Chrome, Safari, Firefox)

---

### üé® PHASE 4: GRUNDLEGENDE UX VERBESSERUNGEN

**Ziel**: App ist benutzerfreundlich und professionell
**Dauer**: 3-4 Tage
**Priorit√§t**: MITTEL ‚≠ê‚≠ê
**Status**: üî¥ Geplant

**Features:**
- [ ] **Loading States**
  - Skeleton Screens statt Spinner
  - Progress Indicators f√ºr Batch-Operationen
  - Smooth Transitions

- [ ] **Error Handling UI**
  - Freundliche Error Messages
  - Retry Buttons
  - Graceful Degradation (Offline)

- [ ] **Empty States**
  - Illustration + Hilfetext
  - Call-to-Action Buttons
  - Onboarding f√ºr Erstnutzer

- [ ] **Toast Improvements**
  - Action Buttons (z.B. "Undo")
  - Bessere Positionierung (Mobile)
  - Icons f√ºr Toast-Typen

- [ ] **Responsive Optimierungen**
  - Touch-freundliche Buttons (min 44x44px)
  - Mobile Navigation verbessern
  - Tablet Layout optimieren

**Acceptance Criteria:**
- ‚úÖ Lighthouse Score > 85
- ‚úÖ Keine Layout Shifts
- ‚úÖ Smooth auf Mobile

---

### üêõ PHASE 5: BUGFIXING UX UND FUNKTIONALIT√ÑT

**Ziel**: UX ist poliert und fehlerfrei
**Dauer**: 2-3 Tage
**Priorit√§t**: MITTEL ‚≠ê‚≠ê
**Status**: üî¥ Geplant

**Focus Areas:**
- [ ] UI Bugs fixen (gefunden in Phase 4)
- [ ] Performance Optimierungen
- [ ] Accessibility Verbesserungen
  - Keyboard Navigation
  - Screen Reader Support
  - Color Contrast (WCAG AA)
- [ ] Mobile UX Feinschliff
- [ ] Dark Mode Polish

**Testing:**
- [ ] User Testing (5-10 Beta-Nutzer)
- [ ] Accessibility Audit (axe DevTools)
- [ ] Performance Audit (Lighthouse)

---

### üöÄ PHASE 6: PRODUCTION READY

**Ziel**: App ist launch-ready
**Dauer**: 2-3 Tage
**Priorit√§t**: HOCH ‚≠ê‚≠ê‚≠ê
**Status**: üî¥ Geplant

**Checklist:**
- [ ] **Security Audit**
  - Secrets nicht im Code
  - HTTPS everywhere
  - Input Validation

- [ ] **Performance Optimization**
  - Bundle Size < 500KB
  - Lighthouse > 90 (alle Kategorien)
  - Service Worker Caching optimieren

- [ ] **Documentation**
  - README aktualisieren
  - Deployment Guide
  - User Documentation (How-to)

- [ ] **Testing**
  - E2E Tests komplett
  - Manual Testing (alle Flows)
  - Cross-Browser Testing

- [ ] **Launch Vorbereitung**
  - GitHub Pages Deployment testen
  - Analytics Setup (optional)
  - Error Monitoring (Sentry, optional)

**Deliverables:**
- ‚úÖ Production-ready Build
- ‚úÖ Vollst√§ndige Dokumentation
- ‚úÖ Launch Checklist abgehakt

---

### üåü PHASE 7: ERWEITERTE FUNKTIONEN

**Ziel**: Nice-to-have Features
**Dauer**: 8-12 Tage
**Priorit√§t**: NIEDRIG ‚≠ê
**Status**: üî¥ Future

**Features (von Phase 1 verschoben):**

#### 7.1 Search & Filter (1-2 Tage)
- [ ] Search Bar (Artist, Album)
- [ ] Filter (Spotify Status)
- [ ] Sortierung (Artist, Album, Datum)

#### 7.2 Album Management (2-3 Tage)
- [ ] Edit Album Metadata
- [ ] Manual Album Entry
- [ ] Bulk Operations (Multi-Select, Bulk Delete)

#### 7.3 Statistics & Insights (1-2 Tage)
- [ ] Collection Stats
- [ ] Top Artists
- [ ] Alben pro Dekade
- [ ] Optional: Charts (Recharts)

#### 7.4 CSV ‚Üí m3u Converter (1 Tag)
- [ ] Upload CSV
- [ ] Parse & Validate
- [ ] Convert to m3u
- [ ] Download

#### 7.5 Additional Features (3-4 Tage)
- [ ] Queue Management (Advanced)
- [ ] Smart Playlists
- [ ] Album Reviews/Notes
- [ ] Sharing Features
- [ ] Multi-Language (i18n)

**Total Phase 7**: 8-12 Tage (nach Production Launch)

---

## üìä Gesamter Zeitplan

| Phase | Dauer | Priorit√§t | Status |
|-------|-------|-----------|--------|
| **Phase 1**: Core Features | ~4 Wochen | ‚≠ê‚≠ê‚≠ê | ‚úÖ KOMPLETT |
| **Phase 2**: Player | 3-4 Tage | ‚≠ê‚≠ê‚≠ê | üî¥ NEXT |
| **Phase 3**: Bugfixing Core | 2-3 Tage | ‚≠ê‚≠ê‚≠ê | üî¥ Geplant |
| **Phase 4**: UX Improvements | 3-4 Tage | ‚≠ê‚≠ê | üî¥ Geplant |
| **Phase 5**: Bugfixing UX | 2-3 Tage | ‚≠ê‚≠ê | üî¥ Geplant |
| **Phase 6**: Production Ready | 2-3 Tage | ‚≠ê‚≠ê‚≠ê | üî¥ Geplant |
| **Phase 7**: Advanced Features | 8-12 Tage | ‚≠ê | üî¥ Future |
| **TOTAL** | **~20-29 Tage** | **(~4-6 Wochen)** | |

---

## üéØ N√§chster Schritt: Spotify Web Playback SDK

**Warum zuerst Player?**
1. ‚úÖ Komplettes Feature f√ºr User-Experience
2. ‚úÖ Differenzierung von anderen CD-Apps
3. ‚úÖ In-App Playback ohne externe Apps
4. ‚úÖ Foundation f√ºr erweiterte Player-Features sp√§ter

**Implementierungsreihenfolge:**
1. SDK Integration & Device Registration
2. Mini-Player UI Component
3. Player State Management (React Context)
4. Premium Check & Fallback UI
5. Testing & Bug Fixes

---

## √Ñnderungshistorie

| Version | Datum | √Ñnderung |
|---------|-------|----------|
| 1.0 | 2025-10-27 | Initiale Roadmap erstellt |
| 2.0 | 2025-10-28 | Status aktualisiert: Phase 1 & 2 teilweise komplett. Detaillierter 3-Phasen Implementierungsplan hinzugef√ºgt (Technische Grundfunktionen ‚Üí UX ‚Üí Playback) |
| 3.0 | 2025-10-28 | Neue 7-Phasen-Struktur: Core Features (‚úÖ) ‚Üí Player ‚Üí Bugfixing ‚Üí UX ‚Üí Production ‚Üí Advanced. Option B (Deep Links) verworfen, nur Spotify Web Playback SDK (Option A). CSV/m3u Export komplett ‚úÖ. Search/Filter/Stats verschoben auf Phase 7. |

---

**Status**: ‚úÖ Phase 1 (Core Features) komplett, Phase 2 (Player) NEXT
**N√§chste Schritte**: Spotify Web Playback SDK Implementation (Phase 2.1)

## Post-Launch (Optional)

Nach Production Launch (Phase 6) k√∂nnen folgende Features optional implementiert werden:

### Marketing & Community
- [ ] GitHub README mit Screenshots
- [ ] Demo Video (YouTube)
- [ ] Product Hunt Launch
- [ ] Reddit Post (r/selfhosted, r/DataHoarder)

### Optional Features (siehe Phase 7)
- Apple Music Integration
- Vinyl/Kassetten Support
- QR-Code Generierung
- Sharing Features
- Multi-Language (i18n)

---

